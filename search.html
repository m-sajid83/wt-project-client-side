<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeatherApp - Search</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- External CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="d-flex flex-column min-vh-100">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">WeatherApp</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link active" href="search.html">Search</a></li>
          <li class="nav-item"><a class="nav-link" href="map.html">Map</a></li>
          <li class="nav-item"><a class="nav-link" href="settings.html">Settings</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About us</a></li>
          <li class="nav-item"><a class="nav-link" href="more.html">More</a></li>


        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-fill d-flex flex-column align-items-center justify-content-start text-center py-4">
    <h1 class="mb-4">Search Weather</h1>
  
    <!-- Search Bar -->
    <div class="col-md-6 col-12 mb-4">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Enter city name..." id="searchCity">
        <button class="btn btn-primary" type="button" id="searchButton">
          <i class="bi bi-search"></i> Search
        </button>
      </div>
      <div id="errorMessage" class="mt-2"></div>
      <div id="weatherResult" class="mt-3"></div>
    </div>
  
    <!-- Popular Cities -->
    <div class="popular-cities d-flex flex-wrap justify-content-center gap-3 w-100">
      <div class="card p-3 text-center" style="width: 180px;">
        <i class="bi bi-cloud-sun fs-2 text-primary"></i>
        <h6 class="mt-2">Mumbai</h6>
        <p>32¬∞C, Sunny</p>
      </div>
      <div class="card p-3 text-center" style="width: 180px;">
        <i class="bi bi-sun fs-2 text-warning"></i>
        <h6 class="mt-2">Delhi</h6>
        <p>35¬∞C, Sunny</p>
      </div>
      <div class="card p-3 text-center" style="width: 180px;">
        <i class="bi bi-cloud-rain fs-2 text-info"></i>
        <h6 class="mt-2">Kolkata</h6>
        <p>30¬∞C, Rainy</p>
      </div>
      <div class="card p-3 text-center" style="width: 180px;">
        <i class="bi bi-cloud-snow fs-2 text-secondary"></i>
        <h6 class="mt-2">Shimla</h6>
        <p>10¬∞C, Snow</p>
      </div>
    </div>
  </main>
  

  <!-- Footer -->
  <footer class="bg-dark text-light pt-3 mt-auto">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <h5>WeatherApp</h5>
          <p>Your reliable source for real-time weather updates across India.</p>
        </div>
        <div class="col-md-4">
          <h5>Quick Links</h5>
          <ul class="list-unstyled">
            <li><a href="index.html" class="text-light">Home</a></li>
            <li><a href="search.html" class="text-light">Search</a></li>
            <li><a href="map.html" class="text-light">Map</a></li>
            <li><a href="settings.html" class="text-light">Settings</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <h5>Contact</h5>
          <p>Email: support@weatherapp.com</p>
          <p>Phone: +91 98765 43210</p>
        </div>
      </div>
      <div class="text-center py-2 border-top mt-2">
        &copy; 2025 WeatherApp. All rights reserved.
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Java Script Validation -->
  <script>
    document.getElementById("searchButton").addEventListener("click", function() {
      const city = document.getElementById("searchCity").value.trim();
      const message = document.getElementById("errorMessage");
  
      if (city === "") {
        message.textContent = "Please enter a city name before searching.";
        message.style.color = "red";
        return;
      }
  
      if (city.length < 3) {
        message.textContent = "City name must be at least 3 characters long.";
        message.style.color = "red";
        return;
      }
  
      const pattern = /^[A-Za-z\s]+$/;
      if (!pattern.test(city)) {
        message.textContent = "City name should contain only letters.";
        message.style.color = "red";
        return;
      }
  
      // ‚úÖ Passed validation
      message.textContent = "‚úÖ Searching weather for " + city + "...";
      message.style.color = "green";
  
      // You can call your weather API or redirect here
      console.log("Searching weather for:", city);
    });
  </script>

  <!-- Weather Api -->
  <script>
  const apiKey = "41ae95cd9cbf99f19da16e5bc2666759"; //OpenWeatherMap key

  document.getElementById("searchButton").addEventListener("click", function() {
    const city = document.getElementById("searchCity").value.trim();
    const message = document.getElementById("errorMessage");

    if (city === "") {
      message.textContent = "Please enter a city name before searching.";
      message.style.color = "red";
      return;
    }

    if (city.length < 3) {
      message.textContent = "City name must be at least 3 characters long.";
      message.style.color = "red";
      return;
    }

    const pattern = /^[A-Za-z\s]+$/;
    if (!pattern.test(city)) {
      message.textContent = "City name should contain only letters.";
      message.style.color = "red";
      return;
    }

    // ‚úÖ Passed validation ‚Äî now fetch weather
    message.textContent = "üå§Ô∏è Fetching weather for " + city + "...";
    message.style.color = "green";

    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;

    fetch(url)
      .then(response => response.json())
      .then(data => {
        if (data.cod === 200) {
          const weatherInfo = `
            <h4>${data.name}, ${data.sys.country}</h4>
            <p>üå°Ô∏è Temperature: ${data.main.temp}¬∞C</p>
            <p>‚òÅÔ∏è Condition: ${data.weather[0].description}</p>
            <p>üí® Wind Speed: ${data.wind.speed} m/s</p>
            <p>üíß Humidity: ${data.main.humidity}%</p>
          `;
          document.getElementById("weatherResult").innerHTML = weatherInfo;
        } else {
          document.getElementById("weatherResult").innerHTML = "<p style='color:red;'>City not found. Try again.</p>";
        }
      })
      .catch(error => {
        console.error("Error:", error);
        document.getElementById("weatherResult").innerHTML = "<p style='color:red;'>Error fetching weather data.</p>";
      });
  });
</script>

</body>
</html>
